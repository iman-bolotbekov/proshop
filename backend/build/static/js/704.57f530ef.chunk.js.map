{"version":3,"file":"static/js/704.57f530ef.chunk.js","mappings":"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","sources":["components/CheckoutSteps.tsx","components/OrderItem.tsx","pages/PlaceOrder.tsx"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\ninterface CheckoutStepsProps {\r\n  step1?: boolean\r\n  step2?: boolean\r\n  step3?: boolean\r\n}\r\n\r\nconst CheckoutSteps: React.FC<CheckoutStepsProps> = ({\r\n  step1,\r\n  step2,\r\n  step3,\r\n}) => {\r\n  return (\r\n    <div className=\"flex flex-row space-x-10 py-5 justify-center\">\r\n      <div>\r\n        {step1 ? (\r\n          <Link to={`/shipping`}>Shipping</Link>\r\n        ) : (\r\n          <div className=\"disabled\">Shipping</div>\r\n        )}\r\n      </div>\r\n      <div>\r\n        {step2 ? (\r\n          <Link to={`/payment`}>Payment</Link>\r\n        ) : (\r\n          <div className=\"disabled\">Payment</div>\r\n        )}\r\n      </div>\r\n      <div>\r\n        {step3 ? (\r\n          <Link to={`/place-order`}>Place Order</Link>\r\n        ) : (\r\n          <div className=\"disabled\">Place Order</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckoutSteps\r\n","import React from 'react'\r\nimport { ICartItem } from '../models/models'\r\n\r\ninterface OrderItemProps {\r\n  orderItem: ICartItem\r\n}\r\n\r\nconst OrderItem: React.FC<OrderItemProps> = ({ orderItem }) => {\r\n  return (\r\n    <div className=\"lg:my-4 lg:pl-10\">\r\n      <div className=\"flex items-center flex-col space-y-6 lg:flex-row lg:space-x-16\">\r\n        <img\r\n          src={`${orderItem.image}`}\r\n          alt={`${orderItem.name}`}\r\n          className=\"rounded-lg w-[26rem] lg:w-[3rem]\"\r\n        />\r\n        <div className=\"\">{orderItem.name}</div>\r\n        <p>\r\n          {orderItem.qty} X ${orderItem.price} = $\r\n          {(+orderItem.price * orderItem.qty).toFixed(2)}\r\n        </p>\r\n        <div className=\"line\"></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OrderItem\r\n","import React from 'react'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { useAppSelector } from '../hooks/redux'\r\nimport OrderItem from '../components/OrderItem'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useCreateOrderMutation } from '../store/api/order.api'\r\nimport { useActions } from '../hooks/action'\r\n\r\nconst PlaceOrder: React.FC = () => {\r\n  const navigate = useNavigate()\r\n  const [createOrder] = useCreateOrderMutation()\r\n  const { clearCart, clearPaymentMethod } = useActions()\r\n  const {\r\n    cart: { shippingAddress, paymentMethod, cartItems },\r\n    auth: { userInfo },\r\n  } = useAppSelector((state) => state)\r\n\r\n  const itemsPrice = +cartItems\r\n    .reduce((acc, item) => acc + +item.price * item.qty, 0)\r\n    .toFixed(2)\r\n  const shippingPrice = +(Number(itemsPrice) > 100 ? 0 : 10).toFixed(2)\r\n  const taxPrice = +Number(0.082 * Number(itemsPrice)).toFixed(2)\r\n  const totalPrice = +(\r\n    Number(itemsPrice) +\r\n    Number(shippingPrice) +\r\n    Number(taxPrice)\r\n  ).toFixed(2)\r\n\r\n  const toOrder = () => {\r\n    createOrder({\r\n      order: {\r\n        orderItems: cartItems,\r\n        shippingAddress,\r\n        paymentMethod,\r\n        itemsPrice,\r\n        shippingPrice,\r\n        taxPrice,\r\n        totalPrice,\r\n      },\r\n      token: userInfo?.token!,\r\n    })\r\n      .unwrap()\r\n      .then((response) => {\r\n        clearCart()\r\n        clearPaymentMethod()\r\n        navigate(`/order/${response.id}`)\r\n      })\r\n      .catch((error) => {\r\n        console.log('Error:', error)\r\n      })\r\n  }\r\n  return (\r\n    <div className=\"pt-10\">\r\n      <CheckoutSteps step1 step2 step3 />\r\n      <div className=\"grid md:gap-6 grid-rows-1 grid-col-1 md:grid-cols-3 px-4\">\r\n        <div className=\"col-span-2\">\r\n          <h2 className=\"title-2 py-2\">Shipping</h2>\r\n          <p>\r\n            <span className=\"font-medium\">Shipping:</span>\r\n            {` Moscow Street 49/41, Bishkek, 720011, Киргизия${\r\n              (shippingAddress.postalCode,\r\n              shippingAddress.country,\r\n              shippingAddress.city,\r\n              shippingAddress.address)\r\n            }`}\r\n          </p>\r\n          <div className=\"line\"></div>\r\n          <h2 className=\"title-2 py-2\">Payment Method</h2>\r\n          <p>\r\n            <span className=\"font-medium\">Method:</span>\r\n            {paymentMethod.paymentMethod}\r\n          </p>\r\n          <div className=\"line\"></div>\r\n          <h2 className=\"title\">Order Items</h2>\r\n          {cartItems.map((cartItem) => (\r\n            <OrderItem orderItem={cartItem} key={cartItem.product} />\r\n          ))}\r\n        </div>\r\n        <div className=\"py-10 md:p-0\">\r\n          <div className=\"border border-gray-200\">\r\n            <h2 className=\"title-2 px-20 pt-4\">ORDER SUMMARY</h2>\r\n            <div className=\"line\"></div>\r\n            <div className=\"flex justify-between px-8\">\r\n              <div>Items:</div>\r\n              <div>${itemsPrice}</div>\r\n            </div>\r\n            <div className=\"line\"></div>\r\n            <div className=\"flex justify-between px-8\">\r\n              <div>Shipping:</div>\r\n              <div>${shippingPrice}</div>\r\n            </div>\r\n            <div className=\"line\"></div>\r\n            <div className=\"flex justify-between px-8\">\r\n              <div>Tax:</div>\r\n              <div>${taxPrice}</div>\r\n            </div>\r\n            <div className=\"line\"></div>\r\n            <div className=\"flex justify-between px-8\">\r\n              <div>Total:</div>\r\n              <div>${totalPrice}</div>\r\n            </div>\r\n            <div className=\"line\"></div>\r\n            <div className=\"flex justify-center items-center pb-4 px-7\">\r\n              <button className=\"button w-full\" onClick={toOrder}>\r\n                Place Order\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlaceOrder\r\n"],"names":["_ref","step1","step2","step3","_jsxs","className","children","_jsx","Link","to","orderItem","src","concat","image","alt","name","qty","price","toFixed","navigate","useNavigate","_useCreateOrderMutati","useCreateOrderMutation","createOrder","_slicedToArray","_useActions","useActions","clearCart","clearPaymentMethod","_useAppSelector","useAppSelector","state","_useAppSelector$cart","cart","shippingAddress","paymentMethod","cartItems","userInfo","auth","itemsPrice","reduce","acc","item","shippingPrice","Number","taxPrice","totalPrice","CheckoutSteps","postalCode","country","city","address","map","cartItem","OrderItem","product","onClick","order","orderItems","token","unwrap","then","response","id","catch","error","console","log"],"sourceRoot":""}