"use strict";(self.webpackChunk_99_typescript_template=self.webpackChunk_99_typescript_template||[]).push([[466],{6466:function(e,r,n){n.r(r);var i=n(9439),a=n(2791),s=n(7689),t=n(5705),c=n(9085),d=n(1124),o=n(4590),u=n(184);r.default=function(){var e=(0,s.UO)(),r=e.productId?parseInt(e.productId,10):0,n=(0,o.lZ)(r).data,l=(0,s.s0)(),p=(0,o.wE)(),m=(0,i.Z)(p,1)[0],h=(0,t.TA)({initialValues:{name:"",price:"",brand:"",category:"",description:"",countInStock:0,image:null},onSubmit:function(e,n){var i=new FormData;i.append("name",e.name),i.append("price",JSON.stringify(e.price)),i.append("category",e.category),i.append("brand",e.brand),i.append("description",e.description),i.append("countInStock",JSON.stringify(e.countInStock)),e.image&&i.append("image",e.image),m({product:i,productId:r}).unwrap().then((function(e){c.Am.success("Product updated successfully"),l("/admin/product/")})).catch((function(e){console.log("Product update error:",e)}))},validationSchema:d.vF}),x=h.values,y=h.handleChange,g=h.handleSubmit,q=h.errors,b=h.touched,f=h.setValues;return(0,a.useEffect)((function(){n&&f({name:n.name,price:n.price,brand:n.brand,category:n.category,description:n.description,countInStock:n.countInStock,image:null})}),[f,n]),(0,u.jsxs)("div",{className:"form-box",children:[(0,u.jsx)("h2",{className:"title",children:"Edit Product"}),(0,u.jsxs)("form",{onSubmit:g,children:[(0,u.jsxs)("div",{className:"input-box",children:[(0,u.jsx)("label",{htmlFor:"",children:"Name"}),(0,u.jsx)("input",{type:"text",className:"input",placeholder:"Enter name",name:"name",value:x.name,onChange:y}),(0,u.jsx)("p",{className:"error",children:q.name&&b.name&&q.name})]}),(0,u.jsxs)("div",{className:"input-box",children:[(0,u.jsx)("label",{htmlFor:"",children:"Price"}),(0,u.jsx)("input",{type:"number",className:"input",placeholder:"Enter price",name:"price",value:x.price,onChange:y}),(0,u.jsx)("p",{className:"error",children:q.price&&b.price&&q.price})]}),(0,u.jsxs)("div",{className:"input-box",children:[(0,u.jsx)("label",{htmlFor:"",children:"Brand"}),(0,u.jsx)("input",{type:"text",className:"input",placeholder:"Enter brand",name:"brand",value:x.brand,onChange:y}),(0,u.jsx)("p",{className:"error",children:q.brand&&b.brand&&q.brand})]}),(0,u.jsxs)("div",{className:"input-box",children:[(0,u.jsx)("label",{htmlFor:"",children:"Category"}),(0,u.jsx)("input",{type:"text",className:"input",placeholder:"Enter category",name:"category",value:x.category,onChange:y}),(0,u.jsx)("p",{className:"error",children:q.category&&b.category&&q.category})]}),(0,u.jsxs)("div",{className:"input-box",children:[(0,u.jsx)("label",{htmlFor:"",children:"Description"}),(0,u.jsx)("input",{type:"text",className:"input",placeholder:"Enter description",name:"description",value:x.description,onChange:y}),(0,u.jsx)("p",{className:"error",children:q.description&&b.description&&q.description})]}),(0,u.jsxs)("div",{className:"input-box",children:[(0,u.jsx)("label",{htmlFor:"",children:"Count in stock"}),(0,u.jsx)("input",{type:"number",className:"input",placeholder:"Enter countInStock",name:"countInStock",value:x.countInStock,onChange:y}),(0,u.jsx)("p",{className:"error",children:q.countInStock&&b.countInStock&&q.countInStock})]}),(0,u.jsxs)("div",{className:"input-box",children:[(0,u.jsx)("label",{htmlFor:"",children:"Image"}),(0,u.jsx)("input",{className:"formInputFile",type:"file",name:"images",accept:".jpg,.png,.jpeg",onChange:function(e){var r=e.target.files;if(r){var n=Array.from(r);h.setFieldValue("image",n[0])}}})]}),(0,u.jsx)("button",{className:"button",type:"submit",children:"Edit Product"})]})]})}},1124:function(e,r,n){n.d(r,{O4:function(){return a},Od:function(){return d},WG:function(){return u},X0:function(){return o},fE:function(){return c},nm:function(){return s},vF:function(){return l},yS:function(){return t}});var i=n(6727),a=i.Ry().shape({email:i.Z_().required("Email is required").email("Invalide email"),password:i.Z_().required("Password is required").min(8,"Password min 8")}),s=i.Ry().shape({name:i.Z_().required("Name is required"),email:i.Z_().required("Email is required").email("Invalide email"),password:i.Z_().required("Password is required").min(8,"Password min 8"),rePassword:i.Z_().required("Confirm Password is required").oneOf([i.iH("password")],"Passwords must match")}),t=i.Ry().shape({address:i.Z_().required("Address is required"),city:i.Z_().required("City is required"),postalCode:i.Rx().required("Postal Code is required"),country:i.Z_().required("Country is required")}),c=i.Ry().shape({paymentMethod:i.Z_().required("Payment method is required")}),d=i.Ry().shape({name:i.Z_(),email:i.Z_().email("Invalide email"),password:i.Z_().min(8,"Password min 8"),rePassword:i.Z_().oneOf([i.iH("password")],"Passwords must match")}),o=i.Ry().shape({name:i.Z_(),email:i.Z_().email("Invalide email"),isAdmin:i.O7()}),u=i.Ry().shape({rating:i.Rx().required("Rating is required!"),comment:i.Z_()}),l=i.Ry().shape({name:i.Z_().required("Name is required"),category:i.Z_().required("Category is required"),description:i.Z_().required("Description is required"),price:i.Rx().required("Price is required"),countInStock:i.Rx().required("Count in stock is required"),brand:i.Z_().required("Brand is required"),image:i.Z_().required("Image is required")})}}]);
//# sourceMappingURL=466.09d73497.chunk.js.map