{"version":3,"file":"static/js/535.9b00c5a9.chunk.js","mappings":"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","sources":["webpack://99-typescript-template/./src/components/UI/Pagination/PaginationItem.module.css?c43c","components/UI/Pagination/PaginationItem.tsx","components/UI/Pagination/Pagination.tsx","utils/pagination.tsx","pages/AdminProduct.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"PaginationItem_pagination__23960\",\"pageItem\":\"PaginationItem_pageItem__zwRn+\",\"pageLink\":\"PaginationItem_pageLink__KJJGp\",\"active\":\"PaginationItem_active__7xe1t\",\"disabled\":\"PaginationItem_disabled__d+DzB\"};","import React from 'react'\r\nimport styles from './PaginationItem.module.css'\r\n\r\ninterface PaginationItemProps {\r\n  page: number | string\r\n  currentPage: number\r\n  onPageChange: (page: number) => void\r\n  isDisabled?: boolean\r\n}\r\n\r\nconst PaginationItem: React.FC<PaginationItemProps> = ({\r\n  page,\r\n  currentPage,\r\n  onPageChange,\r\n  isDisabled,\r\n}) => {\r\n  return (\r\n    <li\r\n      className={`${styles.pageItem} ${\r\n        page === currentPage ? styles.active : ''\r\n      } ${isDisabled ? styles.disabled : ''}`}\r\n      onClick={() => onPageChange(Number(page))}\r\n    >\r\n      <span className={styles.pageLink}>{page}</span>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default PaginationItem\r\n","import React from 'react'\r\nimport { getPagesCut, pageRange } from '../../../utils/pagination'\r\nimport PaginationItem from './PaginationItem'\r\n\r\ninterface PaginationProps {\r\n  currentPage: number\r\n  total: number\r\n  limit: number\r\n  onPageChange: (page: number) => void\r\n}\r\n\r\nconst Pagination: React.FC<PaginationProps> = ({\r\n  currentPage,\r\n  total,\r\n  limit,\r\n  onPageChange,\r\n}) => {\r\n  const pagesCount = Math.ceil(total / limit)\r\n  const pagesCut = getPagesCut(pagesCount, 5, currentPage)\r\n  const pages = pageRange(pagesCut.start, pagesCut.end)\r\n  const isFirstPage = currentPage === 1\r\n  const isLastPage = currentPage === pagesCount\r\n  return (\r\n    <ul className=\"inline-block pl-0 mt-4 mb-4 rounded-md\">\r\n      <PaginationItem\r\n        page=\"First\"\r\n        currentPage={currentPage}\r\n        onPageChange={() => onPageChange(1)}\r\n        isDisabled={isFirstPage}\r\n      />\r\n      <PaginationItem\r\n        page=\"Prev\"\r\n        currentPage={currentPage}\r\n        onPageChange={() => onPageChange(currentPage - 1)}\r\n        isDisabled={isFirstPage}\r\n      />\r\n      {pages.map((page) => (\r\n        <PaginationItem\r\n          page={page}\r\n          key={page}\r\n          currentPage={currentPage}\r\n          onPageChange={onPageChange}\r\n        />\r\n      ))}\r\n      <PaginationItem\r\n        page=\"Next\"\r\n        currentPage={currentPage}\r\n        onPageChange={() => onPageChange(currentPage + 1)}\r\n        isDisabled={isLastPage}\r\n      />\r\n      <PaginationItem\r\n        page=\"Last\"\r\n        currentPage={currentPage}\r\n        onPageChange={() => onPageChange(pagesCount)}\r\n        isDisabled={isLastPage}\r\n      />\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","export const pageRange = (start: number, end: number) => {\r\n  return [...Array(end - start).keys()].map((el) => el + start)\r\n}\r\n\r\nexport const getPagesCut = (\r\n  pagesCount: number,\r\n  pagesCutCount: number,\r\n  currentPage: number\r\n) => {\r\n  const ceiling = Math.ceil(pagesCutCount / 2)\r\n  const floor = Math.floor(pagesCutCount / 2)\r\n\r\n  if (pagesCount < pagesCutCount) {\r\n    return { start: 1, end: pagesCount + 1 }\r\n  } else if (currentPage >= 1 && currentPage <= ceiling) {\r\n    return { start: 1, end: pagesCutCount + 1 }\r\n  } else if (currentPage + floor >= pagesCount) {\r\n    return { start: pagesCount - pagesCutCount + 1, end: pagesCount + 1 }\r\n  } else {\r\n    return { start: currentPage - ceiling + 1, end: currentPage + floor + 1 }\r\n  }\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group'\r\nimport {\r\n  useDeleteProductMutation,\r\n  useGetProductsQuery,\r\n} from '../store/api/product.api'\r\nimport Pagination from '../components/UI/Pagination/Pagination'\r\n\r\nconst AdminProduct: React.FC = () => {\r\n  const [page, setPage] = useState<number>(1)\r\n  const navigate = useNavigate()\r\n  const { data: products } = useGetProductsQuery({ page })\r\n  const [deleteProduct] = useDeleteProductMutation()\r\n  const onDeleteProductHandler = (productId: number) => {\r\n    deleteProduct(productId)\r\n      .unwrap()\r\n      .then((response) => {\r\n        navigate(`/admin/product`)\r\n        toast.success(`Product successfully deleted!`)\r\n      })\r\n      .catch((error) => {\r\n        toast.error(`Product didn't deleted, error occured!`)\r\n        console.log('Product delete error:', error)\r\n      })\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-row justify-between items-center px-10\">\r\n        <h1 className=\"title-2 py-4\">Product</h1>\r\n        <Link to={`/admin/product/create/`} className=\"button\">\r\n          Create Product\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"overflow-auto rounded-lg shadow hidden md:block\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>No.</th>\r\n              <th>Name</th>\r\n              <th>Price</th>\r\n              <th>Category</th>\r\n              <th>Brand</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <TransitionGroup component={null}>\r\n              {products?.results?.map((product) => (\r\n                <CSSTransition key={product.id} timeout={500} classNames=\"list\">\r\n                  <tr>\r\n                    <td>\r\n                      <span className=\"font-bold text-blue-500 hover:underline\">\r\n                        {product.id}\r\n                      </span>\r\n                    </td>\r\n                    <td>{product.name}</td>\r\n                    <td>\r\n                      <span className=\"p-1.5 text-xs font-medium uppercase tracking-wider text-green-800 bg-green-200 rounded-lg bg-opacity-50\">\r\n                        {product.price}\r\n                      </span>\r\n                    </td>\r\n                    <td>{product.category}</td>\r\n                    <td>{product.brand}</td>\r\n                    <td>\r\n                      <Link\r\n                        to={`/admin/product/${product.id}/edit`}\r\n                        className=\" p-2 px-4 shadow\"\r\n                      >\r\n                        <i className=\"fas fa-edit\"></i>\r\n                      </Link>\r\n                      <button\r\n                        className=\"bg-red-500 p-2 px-4\"\r\n                        onClick={() => onDeleteProductHandler(product.id)}\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                </CSSTransition>\r\n              ))}\r\n            </TransitionGroup>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 md:hidden px-10\">\r\n        {products?.results?.map((product) => (\r\n          <div className=\"bg-white space-y-3 p-4 rounded-lg shadow\">\r\n            <div className=\"flex items-center space-x-2 text-sm\">\r\n              <div>\r\n                <span className=\"text-blue-500 font-bold hover:underline\">\r\n                  {product.id}\r\n                </span>\r\n              </div>\r\n              <div className=\"text-gray-500\">{product.category}</div>\r\n              <div>\r\n                <span className=\"p-1.5 text-xs font-medium uppercase tracking-wider text-green-800 bg-green-200 rounded-lg bg-opacity-50\">\r\n                  {product.brand}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-sm text-gray-700\">{product.name}</div>\r\n            <div className=\"text-sm font-medium text-black\">\r\n              ${product.price}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {products && (\r\n        <Pagination\r\n          limit={4}\r\n          total={products.count}\r\n          currentPage={page}\r\n          onPageChange={setPage}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AdminProduct\r\n"],"names":["_ref","page","currentPage","onPageChange","isDisabled","_jsx","className","concat","styles","onClick","Number","children","start","end","total","limit","pagesCount","Math","ceil","pagesCut","pagesCutCount","ceiling","floor","getPagesCut","pages","_toConsumableArray","Array","keys","map","el","isFirstPage","isLastPage","_jsxs","PaginationItem","_products$results","_products$results2","_useState","useState","_useState2","_slicedToArray","setPage","navigate","useNavigate","products","useGetProductsQuery","data","_useDeleteProductMuta","useDeleteProductMutation","deleteProduct","_Fragment","Link","to","TransitionGroup","component","results","product","CSSTransition","timeout","classNames","id","name","price","category","brand","productId","unwrap","then","response","toast","catch","error","console","log","Pagination","count"],"sourceRoot":""}