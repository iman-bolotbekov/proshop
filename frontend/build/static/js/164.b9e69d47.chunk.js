"use strict";(self.webpackChunk_99_typescript_template=self.webpackChunk_99_typescript_template||[]).push([[164],{9164:function(e,s,a){a.r(s),a.d(s,{default:function(){return f}});var r=a(9439),i=a(2791),t=a(5705),l=a(1124),n=a(3969),d=a(8324),o=a(8649),c=a(1087),u=a(3433),m=a(184),p=function(e){var s=e.maxValue,a=e.value,r=e.label,i="0%";return s>0&&(i=Math.round(a/s*100)+"%"),(0,m.jsxs)("div",{className:"h-full flex flex-col items-center",children:[(0,m.jsx)("div",{className:"h-full w-4 border border-gray-700 rounded-lg bg-purple-200 overflow-hidden flex flex-col justify-end",children:(0,m.jsx)("div",{className:"bg-indigo-700 w-full transition-all duration-300 ease-out",style:{height:i}})}),(0,m.jsx)("div",{className:"font-bold text-xs text-center",children:r})]})},x=function(e){var s=e.dataPoints,a=s.map((function(e){return e.value})),r=Math.max.apply(Math,(0,u.Z)(a));return(0,m.jsx)("div",{className:"p-3 rounded-md bg-purple-100 text-center flex justify-around h-40 mb-10",children:s.map((function(e){return(0,m.jsx)(p,{value:e.value,maxValue:r,label:e.label},e.label)}))})},h=function(e){var s=e.orders,a=[{label:"Jan",value:0},{label:"Feb",value:0},{label:"Mar",value:0},{label:"Apr",value:0},{label:"May",value:0},{label:"Jun",value:0},{label:"Jul",value:0},{label:"Aug",value:0},{label:"Sep",value:0},{label:"Oct",value:0},{label:"Nov",value:0},{label:"Dec",value:0}];if(s){var r=s.map((function(e){return new Date(e.createdAt.substring(0,10)).getMonth()}));a.map((function(e,s){return r.includes(s)&&(e.value=s),e}))}return(0,m.jsx)(x,{dataPoints:a})},v=function(e){var s=e.filterByYear,a=e.selectedYear;return(0,m.jsx)("div",{className:"px-4",children:(0,m.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,m.jsx)("label",{className:"font-bold mb-1",children:"Filter by year"}),(0,m.jsxs)("select",{className:"font-bold px-4 py-2 rounded-md",value:a,onChange:function(e){var a=e.target.value;s(a)},children:[(0,m.jsx)("option",{value:"2023",children:"2023"}),(0,m.jsx)("option",{value:"2022",children:"2022"})]})]})})},f=function(){var e=(0,n.pn)().data,s=(0,i.useState)("2023"),a=(0,r.Z)(s,2),u=a[0],p=a[1],x=(0,n.LF)(),f=(0,r.Z)(x,1)[0],g=(0,d.x7)().data,b=void 0===g?[]:g,w=(0,o.o)().setUserInfo,j=(0,t.TA)({initialValues:{name:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",password:"",rePassword:""},onSubmit:function(e,s){f({name:e.name,email:e.email,password:e.password}).unwrap().then((function(e){console.log(e),w(e)})).catch((function(e){return console.log("Update user profile error:",e)})),s.resetForm()},validationSchema:l.Od}),N=j.values,y=j.handleChange,q=j.handleSubmit,_=j.errors,P=j.touched,Z=j.setValues;(0,i.useEffect)((function(){e&&Z({name:e.name,email:e.email,password:N.password})}),[e,Z]);var k=null===b||void 0===b?void 0:b.filter((function(e){return new Date(e.createdAt.substring(0,10)).getFullYear().toString()===u}));return(0,m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 py-4 px-8 lg:px-0",children:[(0,m.jsxs)("div",{className:"px-4",children:[(0,m.jsx)("h2",{className:"title-2",children:"User Profile"}),(0,m.jsxs)("form",{onSubmit:q,children:[(0,m.jsxs)("div",{className:"input-box",children:[(0,m.jsx)("label",{htmlFor:"",children:"Name"}),(0,m.jsx)("input",{type:"text",className:"input",placeholder:"Enter nama",name:"name",value:N.name,onChange:y}),(0,m.jsx)("p",{className:"error",children:_.name&&P.name&&_.name})]}),(0,m.jsxs)("div",{className:"input-box",children:[(0,m.jsx)("label",{htmlFor:"",children:"Email Address"}),(0,m.jsx)("input",{type:"text",className:"input",placeholder:"Enter email",name:"email",value:N.email,onChange:y}),(0,m.jsx)("p",{className:"error",children:_.email&&P.email&&_.email})]}),(0,m.jsxs)("div",{className:"input-box",children:[(0,m.jsx)("label",{htmlFor:"",children:"Password"}),(0,m.jsx)("input",{type:"password",className:"input",placeholder:"Enter password",name:"password",value:N.password,onChange:y}),(0,m.jsx)("p",{className:"error",children:_.password&&P.password&&_.password})]}),(0,m.jsxs)("div",{className:"input-box",children:[(0,m.jsx)("label",{htmlFor:"",children:"Confirm Password"}),(0,m.jsx)("input",{type:"password",className:"input",placeholder:"Enter confirm password",name:"rePassword",value:N.rePassword,onChange:y}),(0,m.jsxs)("p",{className:"error",children:[" ",_.rePassword&&P.rePassword&&_.rePassword]})]}),(0,m.jsx)("button",{className:"button",type:"submit",children:"Sing Up"})]})]}),(0,m.jsxs)("div",{className:"col-span-2 px-4 py-10",children:[(0,m.jsx)("h2",{className:"title-2 pb-4",children:"My Orders"}),(0,m.jsx)(v,{filterByYear:function(e){p(e)},selectedYear:u}),(null===b||void 0===b?void 0:b.length)>0&&(0,m.jsx)(h,{orders:k}),(0,m.jsx)("div",{className:"overflow-auto rounded-sm shadow-md hidden md:block",children:(0,m.jsxs)("table",{className:"w-full",children:[(0,m.jsx)("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"w-40 p-3 text-sm font-semibold tracking-wide text-left",children:"No."}),(0,m.jsx)("th",{className:"w-40 p-3 text-sm font-semibold tracking-wide text-left",children:"Date"}),(0,m.jsx)("th",{className:"w-40 p-3 text-sm font-semibold tracking-wide text-left",children:"Status"}),(0,m.jsx)("th",{className:"w-40 p-3 text-sm font-semibold tracking-wide text-left",children:"Total"}),(0,m.jsx)("th",{className:"w-40 p-3 text-sm font-semibold tracking-wide text-left",children:"Details"})]})}),(0,m.jsx)("tbody",{className:"divide-y divide-gray-100",children:null===b||void 0===b?void 0:b.map((function(e){return(0,m.jsxs)("tr",{className:"bg-white",children:[(0,m.jsx)("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:(0,m.jsx)("p",{className:"font-bold text-blue-500 hover:underline",children:e.id})}),(0,m.jsx)("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:e.createdAt.substring(0,10)}),(0,m.jsx)("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:e.isDelivered?(0,m.jsx)("span",{className:"p-1.5 text-xs font-medium uppercase tracking-wider text-green-800 bg-green-200 rounded-lg bg-opacity-50",children:"Delivered"}):e.isPaid?(0,m.jsx)("span",{className:"p-1.5 text-xs font-medium uppercase tracking-wider text-yellow-800 bg-yellow-200 rounded-lg bg-opacity-50",children:"Shipped"}):(0,m.jsx)("span",{className:"p-1.5 text-xs font-medium uppercase tracking-wider text-green-800 bg-green-200 rounded-lg bg-opacity-50",children:"Delivered"})}),(0,m.jsxs)("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:["$",e.totalPrice]}),(0,m.jsx)("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:(0,m.jsx)(c.rU,{className:"button-sm",to:"/order/".concat(e.id),children:"Details"})})]},e.id)}))})]})}),(0,m.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:hidden",children:null===b||void 0===b?void 0:b.map((function(e){return(0,m.jsxs)("div",{className:"bg-white space-y-3 p-4 rounded-lg shadow",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,m.jsx)("div",{children:(0,m.jsx)("p",{className:"text-blue-500 font-bold hover:underline",children:e.id})}),(0,m.jsx)("div",{className:"text-gray-500",children:e.createdAt.substring(0,10)}),(0,m.jsx)("div",{children:(0,m.jsx)("span",{className:"p-1.5 text-xs font-medium uppercase tracking-wider text-green-800 bg-green-200 rounded-lg bg-opacity-50",children:"Delivered"})})]}),(0,m.jsxs)("div",{className:"text-sm font-medium text-black",children:["$",e.totalPrice]}),(0,m.jsx)("div",{className:"text-sm text-gray-700",children:(0,m.jsx)(c.rU,{className:"button",to:"/order/".concat(e.id),children:"Details"})})]},e.id)}))})]})]})}},1124:function(e,s,a){a.d(s,{O4:function(){return i},Od:function(){return d},WG:function(){return c},X0:function(){return o},fE:function(){return n},nm:function(){return t},vF:function(){return u},yS:function(){return l}});var r=a(6727),i=r.Ry().shape({email:r.Z_().required("Email is required").email("Invalide email"),password:r.Z_().required("Password is required").min(8,"Password min 8")}),t=r.Ry().shape({name:r.Z_().required("Name is required"),email:r.Z_().required("Email is required").email("Invalide email"),password:r.Z_().required("Password is required").min(8,"Password min 8"),rePassword:r.Z_().required("Confirm Password is required").oneOf([r.iH("password")],"Passwords must match")}),l=r.Ry().shape({address:r.Z_().required("Address is required"),city:r.Z_().required("City is required"),postalCode:r.Rx().required("Postal Code is required"),country:r.Z_().required("Country is required")}),n=r.Ry().shape({paymentMethod:r.Z_().required("Payment method is required")}),d=r.Ry().shape({name:r.Z_(),email:r.Z_().email("Invalide email"),password:r.Z_().min(8,"Password min 8"),rePassword:r.Z_().oneOf([r.iH("password")],"Passwords must match")}),o=r.Ry().shape({name:r.Z_(),email:r.Z_().email("Invalide email"),isAdmin:r.O7()}),c=r.Ry().shape({rating:r.Rx().required("Rating is required!"),comment:r.Z_()}),u=r.Ry().shape({name:r.Z_().required("Name is required"),category:r.Z_().required("Category is required"),description:r.Z_().required("Description is required"),price:r.Rx().required("Price is required"),countInStock:r.Rx().required("Count in stock is required"),brand:r.Z_().required("Brand is required"),image:r.Z_().required("Image is required")})}}]);
//# sourceMappingURL=164.b9e69d47.chunk.js.map